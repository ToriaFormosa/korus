const SEPARATION=100,AMOUNTX=50,AMOUNTY=50;let container,camera,scene,renderer,particles,count=0,mouseX=200,mouseY=-400,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2;function init(){container=document.createElement("div"),container.classList.add("wave-container"),document.querySelector(".first-screen").appendChild(container),camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1e4),camera.position.z=1e3,scene=new THREE.Scene;const e=new Float32Array(7500),n=new Float32Array(2500);let t=0,i=0;for(let r=0;r<50;r++)for(let o=0;o<50;o++)e[t]=100*r-2500,e[t+1]=0,e[t+2]=100*o-2500,n[i]=1,t+=3,i++;const r=new THREE.BufferGeometry;r.setAttribute("position",new THREE.BufferAttribute(e,3)),r.setAttribute("scale",new THREE.BufferAttribute(n,1));const o=new THREE.ShaderMaterial({uniforms:{color:{value:new THREE.Color(655615)}},vertexShader:document.getElementById("vertexshader").textContent,fragmentShader:document.getElementById("fragmentshader").textContent});particles=new THREE.Points(r,o),scene.add(particles),renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),renderer.setClearColor(16777215,0),container.appendChild(renderer.domElement),container.style.touchAction="none",container.addEventListener("pointermove",onPointerMove),window.addEventListener("resize",onWindowResize)}function onWindowResize(){windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight),container.addEventListener("pointermove",onPointerMove)}function onPointerMove(e){if(window.matchMedia("(min-width: 1280px)").matches){if(!1===e.isPrimary)return;mouseX=e.clientX-windowHalfX}}function animate(){requestAnimationFrame(animate),render()}function render(e){const n=renderer.domElement;if(camera.aspect=n.clientWidth/n.clientHeight,camera.updateProjectionMatrix(),resizeRendererToDisplaySize(renderer)){const e=renderer.domElement;camera.aspect=e.clientWidth/e.clientHeight,camera.updateProjectionMatrix()}camera.position.x+=.05*(mouseX-camera.position.x),camera.position.y+=.05*(-mouseY-camera.position.y),camera.lookAt(scene.position);const t=particles.geometry.attributes.position.array,i=particles.geometry.attributes.scale.array;let r=0,o=0;for(let e=0;e<50;e++)for(let n=0;n<50;n++)t[r+1]=50*Math.sin(.3*(e+count))+50*Math.sin(.5*(n+count)),i[o]=20*(Math.sin(.3*(e+count))+1)+20*(Math.sin(.5*(n+count))+1),r+=3,o++;particles.geometry.attributes.position.needsUpdate=!0,particles.geometry.attributes.scale.needsUpdate=!0,renderer.render(scene,camera),count+=.1}function resizeRendererToDisplaySize(e){const n=e.domElement,t=n.clientWidth,i=n.clientHeight,r=n.width!==t||n.height!==i;return r&&e.setSize(t,i,!1),r}init(),animate();